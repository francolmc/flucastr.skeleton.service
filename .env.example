# =================================
# FLUCASTR LLEVA - ENVIRONMENT VARIABLES
# =================================

# =================================
# APPLICATION CONFIGURATION
# =================================
NODE_ENV=development
PORT=3001
HOST=0.0.0.0
APP_NAME="Flucastr Lleva - Service"
APP_VERSION=1.0.0
APP_DESCRIPTION="Microservicio para la plataforma Flucastr Lleva"
BASE_URL="http://localhost:3001"
GLOBAL_PREFIX=v1

# Application URLs and Origins
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001"
TRUSTED_PROXIES=""

# =================================
# DATABASE CONFIGURATION
# =================================
DATABASE_URL="postgresql://username:password@localhost:5432/flucastr_lleva?schema=public"

# Database Pool Configuration
DB_POOL_MIN=2
DB_POOL_MAX=10

# =================================
# LOGGING CONFIGURATION
# =================================

# Log Level (error, warn, info, http, verbose, debug, silly)
LOG_LEVEL=debug

# Enable/Disable Logging Features
ENABLE_FILE_LOGGING=true
ENABLE_CONSOLE_LOGGING=true
ENABLE_ERROR_LOGGING=true
ENABLE_QUERY_LOGGING=true
ENABLE_METRICS=true

# Log File Configuration
LOG_DIRECTORY=./logs
LOG_MAX_FILES=14
LOG_MAX_SIZE=20m

# =================================
# JWT CONFIGURATION
# =================================

# JWT Validation (NOT generation - this service validates tokens from auth service)
JWT_ENABLED=true
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ISSUER=flucastr-auth-service
JWT_AUDIENCE=flucastr-services

# JWT Verification Options
JWT_IGNORE_EXPIRATION=false
JWT_CLOCK_TOLERANCE=30
# JWT_MAX_AGE=1d

# JWT Token Extraction
JWT_EXTRACT_FROM_HEADER=true
JWT_EXTRACT_FROM_QUERY=false
JWT_EXTRACT_FROM_COOKIE=false
JWT_HEADER_NAME=Authorization
JWT_QUERY_PARAM=token
JWT_COOKIE_NAME=access_token

# JWT Claims Configuration
JWT_ROLES_CLAIM_KEY=roles
JWT_PERMISSIONS_CLAIM_KEY=permissions
JWT_USER_ID_CLAIM_KEY=sub
JWT_TENANT_ID_CLAIM_KEY=tenant_id

# JWT Cache and Logging
JWT_ENABLE_CACHE=false
JWT_CACHE_TTL=300
JWT_ENABLE_LOGGING=true
JWT_LOG_FAILED_ATTEMPTS=true

# JWT RSA Configuration (for RSA algorithms)
# JWT_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----...-----END PUBLIC KEY-----

# =================================
# SWAGGER CONFIGURATION
# =================================
SWAGGER_ENABLED=true
SWAGGER_PATH=api
SWAGGER_TITLE="Flucastr Lleva - Service API"
SWAGGER_DESCRIPTION="API del microservicio para la plataforma Flucastr Lleva"
SWAGGER_VERSION=1.0.0

# Swagger Contact Information
SWAGGER_CONTACT_NAME="Flucastr Team"
SWAGGER_CONTACT_URL="https://flucastr.com"
SWAGGER_CONTACT_EMAIL="support@flucastr.com"

# Swagger License
SWAGGER_LICENSE_NAME="MIT"
SWAGGER_LICENSE_URL="https://opensource.org/licenses/MIT"

# Swagger Server
SWAGGER_SERVER_URL="http://localhost:3001"

# Swagger Security
API_KEY_ENABLED=false
API_KEY_NAME="X-API-Key"
API_KEY_LOCATION=header

# Swagger UI Options
SWAGGER_DEEP_LINKING=true
SWAGGER_DISPLAY_OPERATION_ID=false
SWAGGER_DEFAULT_MODELS_EXPAND_DEPTH=1
SWAGGER_DEFAULT_MODEL_EXPAND_DEPTH=1
SWAGGER_DEFAULT_MODEL_RENDERING=example
SWAGGER_DISPLAY_REQUEST_DURATION=true
SWAGGER_DOC_EXPANSION=list
SWAGGER_FILTER=true
SWAGGER_MAX_DISPLAYED_TAGS=-1
SWAGGER_SHOW_EXTENSIONS=false
SWAGGER_SHOW_COMMON_EXTENSIONS=false
SWAGGER_TRY_IT_OUT_ENABLED=true

# =================================
# SECURITY CONFIGURATION
# =================================

# Helmet Security Headers
HELMET_ENABLED=true
HELMET_CSP_ENABLED=false
HELMET_COEP_ENABLED=false
HELMET_COOP_ENABLED=false
HELMET_CORP_ENABLED=false
HELMET_DNS_PREFETCH_CONTROL_ENABLED=true
HELMET_FRAMEGUARD_ENABLED=true
HELMET_HIDE_POWERED_BY_ENABLED=true
HELMET_HSTS_ENABLED=true
HELMET_IE_NO_OPEN_ENABLED=true
HELMET_NO_SNIFF_ENABLED=true
HELMET_ORIGIN_AGENT_CLUSTER_ENABLED=true
HELMET_PERMITTED_CROSS_DOMAIN_POLICIES_ENABLED=true
HELMET_REFERRER_POLICY_ENABLED=true
HELMET_XSS_FILTER_ENABLED=true

# =================================
# CORS CONFIGURATION
# =================================
CORS_ENABLED=true
CORS_ORIGIN="http://localhost:3000,http://localhost:3001"
CORS_METHODS="GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS"
CORS_ALLOWED_HEADERS="Origin,X-Requested-With,Content-Type,Accept,Authorization,X-API-Key"
CORS_EXPOSED_HEADERS="X-Total-Count,X-Page-Count"
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400
CORS_PREFLIGHT_CONTINUE=false
CORS_OPTIONS_SUCCESS_STATUS=204

# =================================
# RATE LIMITING CONFIGURATION
# =================================
RATE_LIMIT_ENABLED=false
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100
RATE_LIMIT_MESSAGE="Too many requests from this IP, please try again later."
RATE_LIMIT_STANDARD_HEADERS=true
RATE_LIMIT_LEGACY_HEADERS=false
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# =================================
# VALIDATION CONFIGURATION
# =================================
VALIDATION_WHITELIST=true
VALIDATION_FORBID_NON_WHITELISTED=false
VALIDATION_TRANSFORM=true
VALIDATION_DISABLE_ERROR_MESSAGES=false
VALIDATION_VALIDATE_CUSTOM_DECORATORS=true
VALIDATION_ENABLE_DEBUG_MESSAGES=false

# =================================
# VERSIONING CONFIGURATION
# =================================
VERSIONING_ENABLED=true
VERSIONING_TYPE=uri
VERSIONING_PREFIX=v
VERSIONING_DEFAULT_VERSION=1
VERSIONING_HEADER=X-API-Version
VERSIONING_KEY=version

# =================================
# LIMITS CONFIGURATION
# =================================
REQUEST_TIMEOUT=30000
BODY_LIMIT=10mb
PARAMETER_LIMIT=1000
JSON_LIMIT=10mb
URL_ENCODED_LIMIT=10mb
FILE_UPLOAD_LIMIT=50mb

# =================================
# HEALTH CHECK CONFIGURATION
# =================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=health
GRACEFUL_SHUTDOWN_TIMEOUT=10000
MEMORY_HEAP_THRESHOLD=150
MEMORY_RSS_THRESHOLD=150
DISK_THRESHOLD=250

# =================================
# MONITORING CONFIGURATION
# =================================
MONITORING_ENABLED=false
METRICS_PATH=metrics
PROMETHEUS_ENABLED=false
JAEGER_ENABLED=false
SENTRY_ENABLED=false
# SENTRY_DSN=your-sentry-dsn-here
# HEALTH_CHECK_MEMORY_HEAP=true
# HEALTH_CHECK_STORAGE=true
